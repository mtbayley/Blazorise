@page "/tests/scheduler"
<Row>
    <Column>
        <Card Margin="Margin.Is4.OnY">
            <CardHeader>
                <CardTitle>Scheduler</CardTitle>
            </CardHeader>
            <CardBody>
                <Scheduler TItem="SchedulerAppointment" @bind-Date="@selectedDate" Appointments="@Appointments" FirstDayOfWeek="DayOfWeek.Monday" SlotClicked="@OnSlotClicked">
                    <SchedulerToolbar />
                    <SchedulerViews>
                        <SchedulerDayView StartTime="@(new TimeOnly( 8, 0 ))" EndTime="@(new TimeOnly( 17, 0 ))" />
                        <SchedulerWeekView StartTime="@(new TimeOnly( 8, 0 ))" EndTime="@(new TimeOnly( 17, 0 ))" />
                    </SchedulerViews>
                </Scheduler>
            </CardBody>
        </Card>
    </Column>
</Row>
<Row>
    <Column>
        Selected date: @selectedDate
    </Column>
</Row>
@code {
    private DateOnly selectedDate = DateOnly.FromDateTime( DateTime.Today );

    private static DateTime start = DateTime.Today.AddHours( 10 );

    private Task OnSlotClicked( SchedulerSlotClickedEventArgs eventArgs )
    {
        // Appointments.Add( new SchedulerAppointment( "test", "some desc",
        //     new DateTime( eventArgs.Date, eventArgs.Time ),
        //     new DateTime( eventArgs.Date, eventArgs.Time ).AddHours( 1 )
        // ) );
        return Task.CompletedTask;
    }

    public class SchedulerAppointment
    {
        public SchedulerAppointment()
        {
        }

        public SchedulerAppointment( string title, string description, DateTime start, DateTime end )
        {
            Id = Guid.NewGuid().ToString();
            Title = title;
            Description = description;
            Start = start;
            End = end;
        }

        public SchedulerAppointment( string id, string title, string description, DateTime start, DateTime end )
        {
            Id = id;
            Title = title;
            Description = description;
            Start = start;
            End = end;
        }

        public string Id { get; set; }

        public string Title { get; set; }

        public string Description { get; set; }

        public DateTime Start { get; set; }

        public DateTime End { get; set; }
    }

    List<SchedulerAppointment> Appointments = new List<SchedulerAppointment>
    {
        new SchedulerAppointment( "Meeting with the CEO", "Regarding the new margeting strategy", start, start.AddHours(1) ),
        new SchedulerAppointment( "Lunch with the team", "Discussing the new project", start.AddHours(2), start.AddHours(3) ),
        new SchedulerAppointment( "Meeting with the client", "Discussing the new project", start.AddHours(4), start.AddHours(5) ),
    };
}